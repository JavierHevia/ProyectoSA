<!DOCTYPE html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]> <html class="lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]> <html class="lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Login de clientes</title>
  <link rel="stylesheet" href="style.css">
  <link href="css/bootstrap.min.css" rel="stylesheet"> 
  <!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<body>
  <h1 class="register-title">LOGIN</h1>
 

<div style="width: 273px; margin: 0 auto;">
<center>
  <button value="Iniciar SesiÃ³n" onclick="prueba()" class="register-button">Generar TOKEN</button>
</center>
</div>

   <script> 

	 function CrearToken(){
		var jwt = ''
		var param = '';
		param = 'grant_type=client_credentials'+'&';
	    param += 'client_id=inv01'+'&';
		param += 'client_secret=invpass'+'&';
		param += 'audience=01';
		
		var xhttp = new XMLHttpRequest(); 
		xhttp.open("POST", "http://sajwt.azurewebsites.net/oauth/token?"+param, true);
		xhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
		xhttp.withCredentials = true;
		xhttp.onreadystatechange = function() {
		   if (this.readyState == 4 && this.status == 200) {
			 // Response
			 var response = this.responseText;
			 var obj = JSON.parse(response);
			 alert(obj.token)
			 jwt=obj.token
		   }
		};
	
		xhttp.send();		
	 }

   </script>
</body>
</html>